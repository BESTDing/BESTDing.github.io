<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Swift,NSLayoutConstraint,自动布局," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="约束是定义两个组件之间的布局关系，必须满足基本的系统布局约束，每个约束都有以下形式
1item1.attribute1 = multiplier × item2.attribute2 + constant
意思就是item1的布局属性等于item2的布局属性*multiplier再加上一个常量
In this equation, attribute1 and attribute2 are the">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS学习-NSLayoutConstraint-Swift3">
<meta property="og:url" content="http://BESTDing.github.io/2016/10/17/iOS学习-NSLayoutConstraint-Swift3/index.html">
<meta property="og:site_name" content="EstDing-技术栈">
<meta property="og:description" content="约束是定义两个组件之间的布局关系，必须满足基本的系统布局约束，每个约束都有以下形式
1item1.attribute1 = multiplier × item2.attribute2 + constant
意思就是item1的布局属性等于item2的布局属性*multiplier再加上一个常量
In this equation, attribute1 and attribute2 are the">
<meta property="og:image" content="http://www.z4a.net/images/2016/10/17/2016-10-179.22.56.png">
<meta property="og:updated_time" content="2016-10-17T13:39:18.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS学习-NSLayoutConstraint-Swift3">
<meta name="twitter:description" content="约束是定义两个组件之间的布局关系，必须满足基本的系统布局约束，每个约束都有以下形式
1item1.attribute1 = multiplier × item2.attribute2 + constant
意思就是item1的布局属性等于item2的布局属性*multiplier再加上一个常量
In this equation, attribute1 and attribute2 are the">
<meta name="twitter:image" content="http://www.z4a.net/images/2016/10/17/2016-10-179.22.56.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://BESTDing.github.io/2016/10/17/iOS学习-NSLayoutConstraint-Swift3/"/>

  <title> iOS学习-NSLayoutConstraint-Swift3 | EstDing-技术栈 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?2ff6cdf11ce9d4c5156b8cac8e0cf266";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">EstDing-技术栈</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                iOS学习-NSLayoutConstraint-Swift3
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-17T21:25:59+08:00" content="2016-10-17">
              2016-10-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/17/iOS学习-NSLayoutConstraint-Swift3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/17/iOS学习-NSLayoutConstraint-Swift3/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2016/10/17/iOS学习-NSLayoutConstraint-Swift3/" class="leancloud_visitors" data-flag-title="iOS学习-NSLayoutConstraint-Swift3">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>约束是定义两个组件之间的布局关系，必须满足基本的系统布局约束，每个约束都有以下形式</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">item1.attribute1 = multiplier × item2.attribute2 + constant</div></pre></td></tr></table></figure>
<p>意思就是item1的布局属性等于item2的布局属性*multiplier再加上一个常量</p>
<p><em>In this equation, attribute1 and attribute2 are the variables that Auto Layout can adjust when solving these constraints. The other values are defined when you create the constraint. For example, If you’re defining the relative position of two buttons, you might say “the leading edge of the second button should be 8 points after the trailing edge of the first button.” The linear equation for this relationship is shown below:</em></p>
<p><strong>在这个方程中，attribute1和attribute2是Auto Layout在求解这些约束时可以调整的变量。 其他值是在创建约束时定义的。 例如，如果要定义两个按钮的相对位置，可以说“第二个按钮的前缘应该在第一个按钮的后缘之后8个点”。这种关系的线性方程如下所示：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">button2.leading = <span class="number">1.0</span> * button1.trailing + <span class="number">8.0</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<p>*Auto Layout then modifies the values of the specified leading and trailing edges until both sides of the equation are equal. Note that Auto Layout does not simply assign the value of the right side of this equation to the left side. Instead, the system can modify either attribute or both attributes as needed to solve for this constraint.</p>
<p>The fact that constraints are equations (and not assignment operators) means that you can switch the order of the items in the equation as needed to more clearly express the desired relationship. However, if you switch the order, you must also invert the multiplier and constant. For example, the following two equations produce identical constraints:<br>*</p>
<p><strong>然后自动布局修改指定的前沿和后沿的值，直到等式的两边相等。 请注意，自动布局不会简单地将该公式右侧的值分配给左侧。 相反，系统可以根据需要修改任一属性或两个属性以解决该约束。<br>约束是方程（而不是赋值运算符）意味着您可以根据需要切换方程中项的顺序，以更清楚地表达所需的关系。 但是，如果切换顺序，还必须反转乘数和常数。 例如，以下两个方程产生相同的约束：</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// These equations produce identical constraints</span></div><div class="line">button2.leading = <span class="number">1.0</span> × button1.trailing + <span class="number">8.0</span></div><div class="line">button1.trailing = <span class="number">1.0</span> × button2.leading - <span class="number">8.0</span></div></pre></td></tr></table></figure>
<p><em>A valid layout is defined as a set constraints with one and only one possible solution. Valid layouts are also referred to as a nonambiguous, nonconflicting layouts. Constraints with more than one solution are ambiguous. Constraints with no valid solutions are conflicting. For more information on resolving ambiguous and conflicting constraints, see Types of Errors in Auto Layout Guide.
</em></p>
<p><em>Additionally, constraints are not limited to equality relationships. They can also use greater than or equal to (&gt;=) or less than or equal to (&lt;=) to describe the relationship between the two attributes. Constraints also have priorities between 1 and 1,000. Constraints with a priority of 1,000 are required. All priorities less than 1,000 are optional. By default, all constraints are required (priority = 1,000).</em></p>
<p><em>After solving for the required constraints, Auto Layout tries to solve all the optional constraints in priority order from highest to lowest. If it cannot solve for an optional constraint, it tries to come as close as possible to the desired result, and then moves on to the next constraint.</em></p>
<p><em>This combination of inequalities, equalities, and priorities gives you a great amount of flexibility and power. By combining multiple constraints, you can define layouts that dynamically adapt as the size and location of the elements in your user interface change. For some example layouts, see Stack Views in Auto Layout Guide.</em></p>
<p><strong>有效布局被定义为具有一个且仅一个可能解决方案的集合约束。有效的布局也称为无歧义，不冲突的布局。使用多个解决方案的约束是模糊的。没有有效解决方案的约束是冲突的。有关解决模糊和冲突约束的更多信息，请参阅自动布局指南中的错误类型。</strong></p>
<p><strong>另外，约束不限于等式关系。它们还可以使用大于或等于（&gt; =）或小于或等于（&lt;=）来描述这两个属性之间的关系。约束的优先级也在1到1,000之间。需要优先级为1,000的约束。所有优先级小于1,000是可选的。默认情况下，所有约束都是必需的（priority = 1,000）。
</strong></p>
<p><strong>解决所需的约束后，Auto Layout会尝试按优先级顺序从最高到最低解决所有可选约束。如果它不能解决可选的约束，它会尽可能接近所需的结果，然后移动到下一个约束。</strong></p>
<p><strong>这种不等式，平等性和优先级的组合为您提供了大量的灵活性和强大的功能。通过组合多个约束，您可以定义随用户界面中元素的大小和位置更改而动态适应的布局。有关布局的一些示例，请参阅自动布局指南中的堆栈视图。</strong></p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line">open <span class="class"><span class="keyword">class</span> <span class="title">NSLayoutConstraint</span> : <span class="title">NSObject</span> </span>&#123;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">/* Create an array of constraints using an ASCII art-like visual format string.</span></div><div class="line">     */</div><div class="line">    open <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">constraints</span>(<span class="title">withVisualFormat</span> <span class="title">format</span>: <span class="title">String</span>, <span class="title">options</span> <span class="title">opts</span>: <span class="title">NSLayoutFormatOptions</span> = [], <span class="title">metrics</span>: [<span class="title">String</span> : <span class="title">Any</span>]?, <span class="title">views</span>: [<span class="title">String</span> : <span class="title">Any</span>]) -&gt; [<span class="title">NSLayoutConstraint</span>]</span></div><div class="line"></div><div class="line">    </div><div class="line">    /* <span class="title">This</span> <span class="title">macro</span> <span class="title">is</span> <span class="title">a</span> <span class="title">helper</span> <span class="title">for</span> <span class="title">making</span> <span class="title">view</span> <span class="title">dictionaries</span> <span class="title">for</span> +<span class="title">constraintsWithVisualFormat</span>:<span class="title">options</span>:<span class="title">metrics</span>:<span class="title">views</span>:.  </div><div class="line">     <span class="title">NSDictionaryOfVariableBindings</span>(<span class="title">v1</span>, <span class="title">v2</span>, <span class="title">v3</span>) <span class="title">is</span> <span class="title">equivalent</span> <span class="title">to</span> [<span class="title">NSDictionary</span> <span class="title">dictionaryWithObjectsAndKeys</span>:<span class="title">v1</span>, @"<span class="title">v1</span>", <span class="title">v2</span>, @"<span class="title">v2</span>", <span class="title">v3</span>, @"<span class="title">v3</span>", <span class="title">nil</span>];</div><div class="line">     */</div><div class="line">    </div><div class="line">    // <span class="title">not</span> <span class="title">for</span> <span class="title">direct</span> <span class="title">use</span></div><div class="line">    </div><div class="line">    /* <span class="title">Create</span> <span class="title">constraints</span> <span class="title">explicitly</span>.  <span class="title">Constraints</span> <span class="title">are</span> <span class="title">of</span> <span class="title">the</span> <span class="title">form</span> "<span class="title">view1</span>.<span class="title">attr1</span> = <span class="title">view2</span>.<span class="title">attr2</span> * <span class="title">multiplier</span> + <span class="title">constant</span>" </div><div class="line">     <span class="title">If</span> <span class="title">your</span> <span class="title">equation</span> <span class="title">does</span> <span class="title">not</span> <span class="title">have</span> <span class="title">a</span> <span class="title">second</span> <span class="title">view</span> <span class="title">and</span> <span class="title">attribute</span>, <span class="title">use</span> <span class="title">nil</span> <span class="title">and</span> <span class="title">NSLayoutAttributeNotAnAttribute</span>.</div><div class="line">     */</div><div class="line">    <span class="title">public</span> <span class="title">convenience</span> <span class="title">init</span>(<span class="title">item</span> <span class="title">view1</span>: <span class="title">Any</span>, <span class="title">attribute</span> <span class="title">attr1</span>: <span class="title">NSLayoutAttribute</span>, <span class="title">relatedBy</span> <span class="title">relation</span>: <span class="title">NSLayoutRelation</span>, <span class="title">toItem</span> <span class="title">view2</span>: <span class="title">Any</span>?, <span class="title">attribute</span> <span class="title">attr2</span>: <span class="title">NSLayoutAttribute</span>, <span class="title">multiplier</span>: <span class="title">CGFloat</span>, <span class="title">constant</span> <span class="title">c</span>: <span class="title">CGFloat</span>)</div><div class="line"></div><div class="line">    </div><div class="line">    /* <span class="title">If</span> <span class="title">a</span> <span class="title">constraint</span>'<span class="title">s</span> <span class="title">priority</span> <span class="title">level</span> <span class="title">is</span> <span class="title">less</span> <span class="title">than</span> <span class="title">UILayoutPriorityRequired</span>, <span class="title">then</span> <span class="title">it</span> <span class="title">is</span> <span class="title">optional</span>.  <span class="title">Higher</span> <span class="title">priority</span> <span class="title">constraints</span> <span class="title">are</span> <span class="title">met</span> <span class="title">before</span> <span class="title">lower</span> <span class="title">priority</span> <span class="title">constraints</span>.</div><div class="line">     <span class="title">Constraint</span> <span class="title">satisfaction</span> <span class="title">is</span> <span class="title">not</span> <span class="title">all</span> <span class="title">or</span> <span class="title">nothing</span>.  <span class="title">If</span> <span class="title">a</span> <span class="title">constraint</span> '<span class="title">a</span> == <span class="title">b</span>' <span class="title">is</span> <span class="title">optional</span>, <span class="title">that</span> <span class="title">means</span> <span class="title">we</span> <span class="title">will</span> <span class="title">attempt</span> <span class="title">to</span> <span class="title">minimize</span> '<span class="title">abs</span>(<span class="title">a</span>-<span class="title">b</span>)'.</div><div class="line">     <span class="title">This</span> <span class="title">property</span> <span class="title">may</span> <span class="title">only</span> <span class="title">be</span> <span class="title">modified</span> <span class="title">as</span> <span class="title">part</span> <span class="title">of</span> <span class="title">initial</span> <span class="title">set</span> <span class="title">up</span> <span class="title">or</span> <span class="title">when</span> <span class="title">optional</span>.  <span class="title">After</span> <span class="title">a</span> <span class="title">constraint</span> <span class="title">has</span> <span class="title">been</span> <span class="title">added</span> <span class="title">to</span> <span class="title">a</span> <span class="title">view</span>, <span class="title">an</span> <span class="title">exception</span> <span class="title">will</span> <span class="title">be</span> <span class="title">thrown</span> <span class="title">if</span> <span class="title">the</span> <span class="title">priority</span> <span class="title">is</span> <span class="title">changed</span> <span class="title">from</span>/<span class="title">to</span> <span class="title">NSLayoutPriorityRequired</span>.</div><div class="line">     */</div><div class="line">    <span class="title">open</span> <span class="title">var</span> <span class="title">priority</span>: <span class="title">UILayoutPriority</span></div><div class="line"></div><div class="line">    </div><div class="line">    /* <span class="title">When</span> <span class="title">a</span> <span class="title">view</span> <span class="title">is</span> <span class="title">archived</span>, <span class="title">it</span> <span class="title">archives</span> <span class="title">some</span> <span class="title">but</span> <span class="title">not</span> <span class="title">all</span> <span class="title">constraints</span> <span class="title">in</span> <span class="title">its</span> -<span class="title">constraints</span> <span class="title">array</span>.  <span class="title">The</span> <span class="title">value</span> <span class="title">of</span> <span class="title">shouldBeArchived</span> <span class="title">informs</span> <span class="title">UIView</span> <span class="title">if</span> <span class="title">a</span> <span class="title">particular</span> <span class="title">constraint</span> <span class="title">should</span> <span class="title">be</span> <span class="title">archived</span> <span class="title">by</span> <span class="title">UIView</span>.</div><div class="line">     <span class="title">If</span> <span class="title">a</span> <span class="title">constraint</span> <span class="title">is</span> <span class="title">created</span> <span class="title">at</span> <span class="title">runtime</span> <span class="title">in</span> <span class="title">response</span> <span class="title">to</span> <span class="title">the</span> <span class="title">state</span> <span class="title">of</span> <span class="title">the</span> <span class="title">object</span>, <span class="title">it</span> <span class="title">isn</span>'<span class="title">t</span> <span class="title">appropriate</span> <span class="title">to</span> <span class="title">archive</span> <span class="title">the</span> <span class="title">constraint</span> - <span class="title">rather</span> <span class="title">you</span> <span class="title">archive</span> <span class="title">the</span> <span class="title">state</span> <span class="title">that</span> <span class="title">gives</span> <span class="title">rise</span> <span class="title">to</span> <span class="title">the</span> <span class="title">constraint</span>.  <span class="title">Since</span> <span class="title">the</span> <span class="title">majority</span> <span class="title">of</span> <span class="title">constraints</span> <span class="title">that</span> <span class="title">should</span> <span class="title">be</span> <span class="title">archived</span> <span class="title">are</span> <span class="title">created</span> <span class="title">in</span> <span class="title">Interface</span> <span class="title">Builder</span> (<span class="title">which</span> <span class="title">is</span> <span class="title">smart</span> <span class="title">enough</span> <span class="title">to</span> <span class="title">set</span> <span class="title">this</span> <span class="title">prop</span> <span class="title">to</span> <span class="title">YES</span>), <span class="title">the</span> <span class="title">default</span> <span class="title">value</span> <span class="title">for</span> <span class="title">this</span> <span class="title">property</span> <span class="title">is</span> <span class="title">NO</span>.</div><div class="line">     */</div><div class="line">    <span class="title">open</span> <span class="title">var</span> <span class="title">shouldBeArchived</span>: <span class="title">Bool</span></div><div class="line"></div><div class="line">    </div><div class="line">    /* <span class="title">accessors</span></div><div class="line">     <span class="title">firstItem</span>.<span class="title">firstAttribute</span> &#123;==,&lt;=,&gt;=&#125; secondItem.secondAttribute * multiplier + constant</div><div class="line">     <span class="type">Access</span> to these properties <span class="keyword">is</span> not recommended. <span class="type">Use</span> the `firstAnchor` and `secondAnchor` properties instead.</div><div class="line">     */</div><div class="line">    <span class="keyword">unowned</span>(unsafe) open <span class="keyword">var</span> firstItem: <span class="type">AnyObject</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> firstAttribute: <span class="type">NSLayoutAttribute</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    <span class="keyword">unowned</span>(unsafe) open <span class="keyword">var</span> secondItem: <span class="type">AnyObject</span>? &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> secondAttribute: <span class="type">NSLayoutAttribute</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">/* accessors</span></div><div class="line">     firstAnchor&#123;==,&lt;=,&gt;=&#125; secondAnchor * multiplier + constant</div><div class="line">     */</div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="meta">@NSCopying</span> open <span class="keyword">var</span> firstAnchor: <span class="type">NSLayoutAnchor</span>&lt;<span class="type">AnyObject</span>&gt; &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">10.0</span>, *)</div><div class="line">    <span class="meta">@NSCopying</span> open <span class="keyword">var</span> secondAnchor: <span class="type">NSLayoutAnchor</span>&lt;<span class="type">AnyObject</span>&gt;? &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> relation: <span class="type">NSLayoutRelation</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> multiplier: <span class="type">CGFloat</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">/* Unlike the other properties, the constant may be modified after constraint creation.  Setting the constant on an existing constraint performs much better than removing the constraint and adding a new one that's just like the old but for having a new constant.</span></div><div class="line">     */</div><div class="line">    open <span class="keyword">var</span> constant: <span class="type">CGFloat</span></div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">/* The receiver may be activated or deactivated by manipulating this property.  Only active constraints affect the calculated layout.  Attempting to activate a constraint whose items have no common ancestor will cause an exception to be thrown.  Defaults to NO for newly created constraints. */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    open <span class="keyword">var</span> isActive: <span class="type">Bool</span></div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">/* Convenience method that activates each constraint in the contained array, in the same manner as setting active=YES. This is often more efficient than activating each constraint individually. */</span></div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</div><div class="line">    open <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">activate</span>(<span class="title">_</span> <span class="title">constraints</span>: [<span class="title">NSLayoutConstraint</span>])</span></div><div class="line"></div><div class="line">    </div><div class="line">    /* <span class="title">Convenience</span> <span class="title">method</span> <span class="title">that</span> <span class="title">deactivates</span> <span class="title">each</span> <span class="title">constraint</span> <span class="title">in</span> <span class="title">the</span> <span class="title">contained</span> <span class="title">array</span>, <span class="title">in</span> <span class="title">the</span> <span class="title">same</span> <span class="title">manner</span> <span class="title">as</span> <span class="title">setting</span> <span class="title">active</span>=<span class="title">NO</span>. <span class="title">This</span> <span class="title">is</span> <span class="title">often</span> <span class="title">more</span> <span class="title">efficient</span> <span class="title">than</span> <span class="title">deactivating</span> <span class="title">each</span> <span class="title">constraint</span> <span class="title">individually</span>. */</div><div class="line">    @<span class="title">available</span>(<span class="title">iOS</span> 8.0, *)</div><div class="line">    <span class="title">open</span> <span class="title">class</span> <span class="title">func</span> <span class="title">deactivate</span>(<span class="title">_</span> <span class="title">constraints</span>: [<span class="title">NSLayoutConstraint</span>])</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="title">extension</span> <span class="title">NSLayoutConstraint</span> &#123;</div><div class="line"></div><div class="line">    <span class="comment">/* For ease in debugging, name a constraint by setting its identifier, which will be printed in the constraint's description.</span></div><div class="line">     Identifiers starting with UI and NS are reserved by the system.</div><div class="line">     */</div><div class="line">    <span class="meta">@available</span>(iOS <span class="number">7.0</span>, *)</div><div class="line">    open <span class="keyword">var</span> identifier: <span class="type">String</span>?</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="方法说明"><a href="#方法说明" class="headerlink" title="方法说明"></a>方法说明</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">public</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(item view1: <span class="type">Any</span>, attribute attr1: <span class="type">NSLayoutAttribute</span>, relatedBy relation: <span class="type">NSLayoutRelation</span>, toItem view2: <span class="type">Any</span>?, attribute attr2: <span class="type">NSLayoutAttribute</span>, multiplier: <span class="type">CGFloat</span>, constant <span class="built_in">c</span>: <span class="type">CGFloat</span>)</div><div class="line"></div><div class="line">创建一个约束</div></pre></td></tr></table></figure>
<h3 id="属性说明"><a href="#属性说明" class="headerlink" title="属性说明"></a>属性说明</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//第一个view</span></div><div class="line"> <span class="keyword">unowned</span>(unsafe) open <span class="keyword">var</span> firstItem: <span class="type">AnyObject</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> firstAttribute: <span class="type">NSLayoutAttribute</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"><span class="comment">//第二个view</span></div><div class="line">    <span class="keyword">unowned</span>(unsafe) open <span class="keyword">var</span> secondItem: <span class="type">AnyObject</span>? &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">    open <span class="keyword">var</span> secondAttribute: <span class="type">NSLayoutAttribute</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"> open <span class="keyword">var</span> relation: <span class="type">NSLayoutRelation</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line"> open <span class="keyword">var</span> multiplier: <span class="type">CGFloat</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"> </div><div class="line"> open <span class="keyword">var</span> constant: <span class="type">CGFloat</span></div><div class="line"><span class="comment">/*与其他属性不同，常数可以在约束创建后修改。 在现有约束上设置常量比删除约束并添加一个新的约束更好，这与旧的约束相同，但是具有一个新的常量。*/</span></div></pre></td></tr></table></figure>
<h3 id="创建约束"><a href="#创建约束" class="headerlink" title="创建约束"></a>创建约束</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> thirdView: <span class="type">UIView</span>?</div><div class="line">    <span class="keyword">var</span> fourView: <span class="type">UIView</span>?</div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> fifth: <span class="type">UIView</span>!</div><div class="line"><span class="comment">//    @IBOutlet weak var secondeView: UIView!</span></div><div class="line"><span class="comment">//    @IBOutlet weak var firstView: UIView!</span></div><div class="line">       <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line"><span class="comment">//            self.firstView.backgroundColor = UIColor.red</span></div><div class="line">            <span class="keyword">self</span>.thirdView = <span class="type">UIView</span>()</div><div class="line">            <span class="keyword">self</span>.fourView  = <span class="type">UIView</span>()</div><div class="line">            <span class="keyword">self</span>.thirdView?.backgroundColor = <span class="type">UIColor</span>.gray</div><div class="line">            <span class="keyword">self</span>.fourView?.backgroundColor = <span class="type">UIColor</span>.brown</div><div class="line">            <span class="keyword">self</span>.fifth.backgroundColor = <span class="type">UIColor</span>.green</div><div class="line">            <span class="keyword">self</span>.fifth.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></div><div class="line">            <span class="keyword">self</span>.view.addSubview(<span class="keyword">self</span>.thirdView!)</div><div class="line">            <span class="keyword">self</span>.thirdView?.addSubview(<span class="keyword">self</span>.fourView!)</div><div class="line">        <span class="comment">//使用自动布局时必须设置为false</span></div><div class="line">            <span class="keyword">self</span>.fourView?.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></div><div class="line">            <span class="keyword">self</span>.thirdView?.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></div><div class="line">            <span class="keyword">let</span> thirdViewWidthContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.width, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: <span class="type">NSLayoutAttribute</span>.width, multiplier: <span class="number">0.5</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> thirdViewHeightContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.height, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: <span class="type">NSLayoutAttribute</span>.height, multiplier: <span class="number">0.5</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> thirdViewCXContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.centerX, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: <span class="type">NSLayoutAttribute</span>.centerX, multiplier: <span class="number">1.0</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> thirdViewYContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.centerY, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: <span class="type">NSLayoutAttribute</span>.centerY, multiplier: <span class="number">1.0</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">self</span>.view.addConstraints([thirdViewWidthContraint, thirdViewCXContraint, thirdViewHeightContraint, thirdViewYContraint])</div><div class="line">            <span class="comment">/**</span></div><div class="line">             *给fourView添加自动布局属性</div><div class="line">             *</div><div class="line">             */</div><div class="line">            <span class="keyword">let</span> widthContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fourView!, attribute: <span class="type">NSLayoutAttribute</span>.width, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.width, multiplier: <span class="number">0.5</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> heightContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fourView!, attribute: <span class="type">NSLayoutAttribute</span>.height, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.height, multiplier: <span class="number">0.5</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> firstCenterXContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fourView!, attribute: <span class="type">NSLayoutAttribute</span>.centerX, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.centerX, multiplier: <span class="number">1.0</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="keyword">let</span> firstTopContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fourView!, attribute: <span class="type">NSLayoutAttribute</span>.centerY, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.centerY, multiplier: <span class="number">1.0</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="comment">//NSLayoutConstraint.activate([widthContraint, heightContraint, firstCenterXContraint, firstTopContraint])</span></div><div class="line">        </div><div class="line">            <span class="keyword">self</span>.thirdView?.addConstraint(firstTopContraint)</div><div class="line">            <span class="keyword">self</span>.thirdView?.addConstraint(firstCenterXContraint)</div><div class="line">            <span class="keyword">self</span>.thirdView?.addConstraint(widthContraint)</div><div class="line">            <span class="keyword">self</span>.thirdView?.addConstraint(heightContraint)</div><div class="line">            <span class="comment">/**</span></div><div class="line">             *IBOutlet fifth添加自动布局属性</div><div class="line">             *使用了自动布局属性后就不能再使用frame改变视图大小了，</div><div class="line">             */</div><div class="line">            fifth.frame.size.width = <span class="number">100</span></div><div class="line">            fifth.frame.size.height = <span class="number">100</span></div><div class="line">            <span class="keyword">let</span> fifthWidthContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fifth, attribute: <span class="type">NSLayoutAttribute</span>.width, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="literal">nil</span>, attribute: <span class="type">NSLayoutAttribute</span>.width, multiplier: <span class="number">1.0</span>, constant: <span class="number">100.0</span>)</div><div class="line">            <span class="keyword">let</span> fifthHeightContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fifth, attribute: <span class="type">NSLayoutAttribute</span>.height, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="literal">nil</span>, attribute: <span class="type">NSLayoutAttribute</span>.height, multiplier: <span class="number">1.0</span>, constant: <span class="number">100.0</span>)</div><div class="line">            <span class="keyword">let</span> fifthTopContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fifth, attribute: <span class="type">NSLayoutAttribute</span>.top, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView!, attribute: <span class="type">NSLayoutAttribute</span>.bottom, multiplier: <span class="number">1.0</span>, constant: <span class="number">50.0</span>)</div><div class="line">            <span class="keyword">let</span> fifthXContraint = <span class="type">NSLayoutConstraint</span>(item: <span class="keyword">self</span>.fifth, attribute: <span class="type">NSLayoutAttribute</span>.centerX, relatedBy: <span class="type">NSLayoutRelation</span>.<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.thirdView, attribute: <span class="type">NSLayoutAttribute</span>.centerX, multiplier: <span class="number">1.0</span>, constant: <span class="number">0.0</span>)</div><div class="line">            <span class="comment">/**</span></div><div class="line">             *添加宽高属性直接如果约束建立在父视图和子视图上，则添加到父视图上；如果约束建立在两个兄弟视图上，则添加到两个兄弟视图的父视图上。</div><div class="line">             */</div><div class="line">            <span class="keyword">self</span>.view.addConstraints([fifthTopContraint, fifthXContraint])</div><div class="line">            <span class="keyword">self</span>.fifth?.addConstraints([fifthWidthContraint, fifthHeightContraint])</div><div class="line">        <span class="comment">// Do any additional setup after loading the view, typically from a nib.</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.didReceiveMemoryWarning()</div><div class="line">        <span class="comment">// Dispose of any resources that can be recreated.</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>效果如下图</p>
<p><a href="http://www.z4a.net/image/jnulP" target="_blank" rel="external"><img src="http://www.z4a.net/images/2016/10/17/2016-10-179.22.56.png" alt="2016-10-179.22.56.png"></a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Swift/" rel="tag">#Swift</a>
          
            <a href="/tags/NSLayoutConstraint/" rel="tag">#NSLayoutConstraint</a>
          
            <a href="/tags/自动布局/" rel="tag">#自动布局</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/16/iOS广播NotificationCenter-Swift3/" rel="next" title="iOS广播NotificationCenter-Swift3">
                <i class="fa fa-chevron-left"></i> iOS广播NotificationCenter-Swift3
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/17/Swift中的pragmamark/" rel="prev" title="Swift中的Pragma mark">
                Swift中的Pragma mark <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/10/17/iOS学习-NSLayoutConstraint-Swift3/"
           data-title="iOS学习-NSLayoutConstraint-Swift3" data-url="http://BESTDing.github.io/2016/10/17/iOS学习-NSLayoutConstraint-Swift3/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="EstDing" />
          <p class="site-author-name" itemprop="name">EstDing</p>
          <p class="site-description motion-element" itemprop="description">钝鸟先飞</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">19</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/BESTDing" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/JOYDinDin" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-number">1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法说明"><span class="nav-number">2.</span> <span class="nav-text">方法说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性说明"><span class="nav-number">3.</span> <span class="nav-text">属性说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建约束"><span class="nav-number">4.</span> <span class="nav-text">创建约束</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">EstDing</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">
    &nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;总访问量: <span id="busuanzi_value_site_pv"></span>
</span>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"JOYDinDin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("9NL7D5CMF4lQIP333R7OHgvX-gzGzoHsz", "RTDGKnXQyM19pOjYD9xBOUab");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
